[home](https://github.com/zeditor01/zowe_db2_tools/blob/main/docs/ZPDT_Build_Path.md)

# Assumed ZPDT Deployment

This GitHub repository assumes that your environment ( whether ZPDT or real IBM Z Server ) is setup to allow your client to access z/OS via 3 standard interfaces.
1. Web Browser, to access z/OSMF, Zowe, UMS, QWT Liberty Server etc...
2. command prompt that support ssh connection to z/OS
3. 3270 emulator to logon to TSO

The worked examples in this repository assume that z/OS is accessible via 
* TCPIP address 192.168.1.171
* or Hostname s0w1.dal-ebis.ihost.com

If your IP address or hostname is different, you will need to adjust your work to reflect these differences.

![zpdt_deployment](/images/zpdt_deployment.jpg)


## Enabling Secure Connections

The Zowe Db2 tools solutions are based on secure https connections from your browser to Zowe. This requires two things
1. that the CA Certificate(s) used by your z/OS system are stored in your workstation's trusted root certificates store
2. that you define the hostname on your PC for browswer access (because secure connections are based on hostnames, not TCPIP addresses)

The hostname of the ZPDT z/OS image is s0w1.dal-ebis.ihost.com, and it is configured on TCPIP address 192.168.1.171

## Define the z/OS hostname on your client PC or Mac !!!

For Windows PCs, you must edit C:\Windows\system32\drivers\etc\hosts to add the hostname

```
# Copyright (c) 1993-2009 Microsoft Corp.
#
# This is a sample HOSTS file used by Microsoft TCP/IP for Windows.
#
# This file contains the mappings of IP addresses to host names. Each
# entry should be kept on an individual line. The IP address should
# be placed in the first column followed by the corresponding host name.
# The IP address and the host name should be separated by at least one
# space.
#
# Additionally, comments (such as these) may be inserted on individual
# lines or following the machine name denoted by a '#' symbol.
#
# For example:
#
#      102.54.94.97     rhino.acme.com          # source server
#       38.25.63.10     x.acme.com              # x client host

# localhost name resolution is handled within DNS itself.
#	127.0.0.1       localhost
#	::1             localhost

192.168.1.171           s0w1.dal-ebis.ihost.com
```

For Mac OSX clients, you must edit /etc/hosts to add the hostname
```
##
# Host Database
#
# localhost is used to configure the loopback interface
# when the system is booting.  Do not change this entry .
##
127.0.0.1       localhost
255.255.255.255 broadcasthost
::1             localhost
192.168.1.171   s0w1.dal-ebis.ihost.com
```

## Store the z/OS CA certificate(s) in your trusted root certificates truststore

The z/OSMF configuration on the ZPDT z/OS Image uses a Keyring that contains
* A CA Certificate (label BaseCA) that was generated on this system
* A server certificate for z/OSMF, that was signed by BaseCA

The CA Cert is the public key that must be imported into your PC truststore

Export the BaseCA certificate and download it (in ASCII) to your PC. It should look something like this BaseCA.crt file.

```
-----BEGIN CERTIFICATE-----
MIIDyjCCArKgAwIBAgIBADANBgkqhkiG9w0BAQsFADBlMQswCQYDVQQGEwJVUzEo
MCYGA1UEChMfSW50ZXJuYXRpb25hbCBCdXNpbmVzcyBNYWNoaW5lczENMAsGA1UE
CxMEQURDRDEdMBsGA1UEAwwUQURDRF9TRUxGQ0FfQ1VTVENFUlQwHhcNMjQxMjIw
MDYwMDAwWhcNNDAwMTAyMDU1OTU5WjBlMQswCQYDVQQGEwJVUzEoMCYGA1UEChMf
SW50ZXJuYXRpb25hbCBCdXNpbmVzcyBNYWNoaW5lczENMAsGA1UECxMEQURDRDEd
MBsGA1UEAwwUQURDRF9TRUxGQ0FfQ1VTVENFUlQwggEiMA0GCSqGSIb3DQEBAQUA
A4IBDwAwggEKAoIBAQDsWhz2No/dWZ5Gtr0qg7VQI5YuPrVuxY/dNHzDCKYeoml5
L2Py6lvIu8aDAuVgFhqnhoY1xCoM3MLuq7YvCKf+/FY9YqAO8+h3ospBkDtVmbmK
mlRSSmbN0E4gvPiDGBOBoM/AgeR2IH97V0KvUo1L9Pvr0BSwMtU9YrftrYJb37r/
0mXyqFs/hQl6TqKxncx5QRnjOw/7E75VzigESWKk0QQK9Jm3JFidSNXCAttkVC1z
HtVeVAfqfbE1ZRYEeRZl98fsllfHNPFPAmjWOKDeo5XD32c70i1SnhwMerKch30O
k+CSdOFNBV1J1sw8Sv+gbCP/CdB6j40MrJOUhostAgMBAAGjgYQwgYEwPwYJYIZI
AYb4QgENBDIWMEdlbmVyYXRlZCBieSB0aGUgU2VjdXJpdHkgU2VydmVyIGZvciB6
L09TIChSQUNGKTAOBgNVHQ8BAf8EBAMCAfYwDwYDVR0TAQH/BAUwAwEB/zAdBgNV
HQ4EFgQUqeX5U06MV8i4prZdbGaDVeMrIu0wDQYJKoZIhvcNAQELBQADggEBAFtv
y42p/3nX/ctI76VObtIgNIB6yn7k3tAewxjo5CDLIkM5VltAP/5QNErTfcqut6RS
EF8dJDc5ON28SqlEkKN9ziNTQ5GEA8ZLSolSI0lSaFrgb0k9nwj3lCoFcOV28M0f
cFjlyl/9+el9rxkHQsbr0sKCicehCVWMhcczJJf+o7LBFb3fp4TqTPpFT1nM55sM
Ny9VafGDYf9XlQGo34B9uTlirzXWEw8VNjPcg8sKQnqDbBayhKchX0MijlAP33Dd
8olMK4c+KAJOs3i8u/A7gZU5pSlnjtYJRqLLb7HsmzlNpXBpf4Nuo9fHm1/VQ5jU
1HEr8h93RYNrCmQk/2g=
-----END CERTIFICATE-----

```

On Windows, double-click on the certificate file. You will be prompted for your action with a pop up windows. You should 
1. Install Certificate
2. ... into Local Machine (to provide for any browser to use it)
3. Place the Certificate in the "Trusted Root Certificate Authorities" Store.

On Mac OSX, click on the certificate and add it to your Keychain.



[home](https://github.com/zeditor01/zowe_db2_tools/blob/main/docs/ZPDT_Build_Path.md)
